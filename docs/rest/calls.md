# Calls
Модель инициализации звонков.
****

## extToPhone()

Инициирование двустороннего звонка с внутренней линией и внешним номером.

### Обязательные параметры:

#### `ext_number`
Внутренний номер сотрудника (первый участник разговора).

#### `phone_number`
Телефонный номер куда нужно позвонить (второй участник разговора).



### Дополнительные параметры:

#### `callTimeToExt`
Длительность дозвона на внутреннюю линию (по умолчанию 30 секунд).

#### `limitCallTime`
Ограничение длительности звонка в секундах.

#### `playbackWaiting`
Проигрывание, первому участнику разговора сообщения:
"ожидайте пожалуйста на линии, происходит соединение со 2-м участником разговора". По умолчанию ***true***, принимает значения: ***true*** или ***false***.

#### `trunkNumber`
Номер через который будет совершаться звонок на телефонный номер.

#### `callerIdForEmployee`
Смена отображения информации о номере куда будем звонить на экране телефона у сотрудника, по умолчанию отображается телефонный номер куда нужно позвонить. В основном данный параметр используется для скрытия телефонного номера от сотрудника (примеры: Private или CRM client id 3320).


#### `async`
Не дожидаться результата звонка на внутреннюю линию. По умолчанию ***false***, принимает значения: ***true*** или ***false***.


### Пример

```
$client->calls->extToPhone([
	'ext_number' => '910',
	'phone_number' => '0443334023',
]);

```

## phoneToPhone()

Инициирование двустороннего звонка c двумя внешними номерами.

### Обязательные параметры:

#### `phoneNumber1`
Первый внешний номер.

#### `phoneNumber2`
Второй внешний номер.

#### `trunkNumber`
Номер через который будут совершаться оба звонка.


### Дополнительные параметры:

#### `limitCallTime`
Ограничение длительности звонка в секундах.

#### `playbackWaiting`
Проигрывание, первому участнику разговора, фразы: "ожидайте пожалуйста на линии, происходит соединение со 2-м участником разговора". По умолчанию стоит ***true***, принимает значения: ***true*** или ***false***.


### Пример

```
$client->calls->phoneToPhone([
	'phoneNumber1' => '0970002233',
	'phoneNumber2' => '0443334333',
	'trunkNumber' => '0443334023',
	'limitCallTime' => '120'
]);
```

## attendedCallTransfer()

Перевод звонка.

### Обязательные параметры:

#### `generalCallID`
Идентификатор звонка.

#### `phone_number`
Номер на который переводится звонок.

### Пример

```
$client->calls->attendedCallTransfer([
	'generalCallID' => '22661563',
	'phone_number' => '912'
]);

```

## hangupCall()

Завершение звонка.

### Обязательные параметры:

### `generalCallID`
Идентификатор звонка.

### Пример

```
$client->calls->hangupCall([
	'generalCallID' => '22661891'
]);

```

## callWithAnnouncement()

Звонок с проигрыванием голосового файла.

### Обязательные параметры:

#### `phone_number`

Телефонный номер кому будет проигрываться оповещение.

#### `voiceFileID`

Идентификатор голосового файла.

### Пример

```
$client->calls->callWithAnnouncement([
	'phone_number' => '0443334023',
	'voiceFileID' => '4'
]);

```

## callWithInteractiveVoiceResponse()

Звонок с голосовым меню.

### Обязательные параметры:

#### `phone_number`
Телефонный номер кому будет проигрываться оповещение.

#### `ivrName`
Имя голосового меню.

### Пример

```
$client->calls->callWithInteractiveVoiceResponse([
	'phone_number' => '0443334023',
	'ivrName' => 'confirmation-call'
]);

```